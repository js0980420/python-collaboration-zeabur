@echo off\nchcp 65001 >nul\necho.\necho ==========================================\necho ğŸ” èŠå¤©æ¶ˆæ¯ç²å–æ¸¬è©¦\necho ==========================================\necho.\n\necho ğŸ“‹ æ¸¬è©¦ä¸åŒ lastChatId å€¼çš„èŠå¤©æ¶ˆæ¯ç²å–ï¼š\necho.\n\necho ğŸ§ª æ¸¬è©¦1: lastChatId=0 (ç²å–æ‰€æœ‰æ¶ˆæ¯)...\npowershell -Command \"try { $response = Invoke-WebRequest -Uri 'http://localhost/collaboration/code_sync_handler.php?action=get_updates' -Method POST -Headers @{'Content-Type'='application/json'} -Body '{\\\"action\\\":\\\"get_updates\\\",\\\"room\\\":\\\"test_room\\\",\\\"userId\\\":\\\"test_receiver\\\",\\\"userName\\\":\\\"æ¸¬è©¦æ¥æ”¶è€…\\\",\\\"lastVersion\\\":18,\\\"lastChatId\\\":0}'; Write-Host 'âœ… å›æ‡‰:'; $jsonResponse = $response.Content | ConvertFrom-Json; $jsonResponse.updates | Where-Object { $_.type -eq 'chat_message' } | ForEach-Object { Write-Host 'ğŸ’¬ èŠå¤©æ¶ˆæ¯:' $_.data.message '(ID:' $_.data.chatId ')' } } catch { Write-Host 'âŒ éŒ¯èª¤:' $_.Exception.Message }\"\n\necho.\necho ğŸ§ª æ¸¬è©¦2: lastChatId=2 (ç²å–ID>2çš„æ¶ˆæ¯)...\npowershell -Command \"try { $response = Invoke-WebRequest -Uri 'http://localhost/collaboration/code_sync_handler.php?action=get_updates' -Method POST -Headers @{'Content-Type'='application/json'} -Body '{\\\"action\\\":\\\"get_updates\\\",\\\"room\\\":\\\"test_room\\\",\\\"userId\\\":\\\"test_receiver\\\",\\\"userName\\\":\\\"æ¸¬è©¦æ¥æ”¶è€…\\\",\\\"lastVersion\\\":18,\\\"lastChatId\\\":2}'; Write-Host 'âœ… å›æ‡‰:'; $jsonResponse = $response.Content | ConvertFrom-Json; $jsonResponse.updates | Where-Object { $_.type -eq 'chat_message' } | ForEach-Object { Write-Host 'ğŸ’¬ èŠå¤©æ¶ˆæ¯:' $_.data.message '(ID:' $_.data.chatId ')' } } catch { Write-Host 'âŒ éŒ¯èª¤:' $_.Exception.Message }\"\n\necho.\necho ğŸ§ª æ¸¬è©¦3: lastChatId=4 (ç²å–ID>4çš„æ¶ˆæ¯)...\npowershell -Command \"try { $response = Invoke-WebRequest -Uri 'http://localhost/collaboration/code_sync_handler.php?action=get_updates' -Method POST -Headers @{'Content-Type'='application/json'} -Body '{\\\"action\\\":\\\"get_updates\\\",\\\"room\\\":\\\"test_room\\\",\\\"userId\\\":\\\"test_receiver\\\",\\\"userName\\\":\\\"æ¸¬è©¦æ¥æ”¶è€…\\\",\\\"lastVersion\\\":18,\\\"lastChatId\\\":4}'; Write-Host 'âœ… å›æ‡‰:'; $jsonResponse = $response.Content | ConvertFrom-Json; $jsonResponse.updates | Where-Object { $_.type -eq 'chat_message' } | ForEach-Object { Write-Host 'ğŸ’¬ èŠå¤©æ¶ˆæ¯:' $_.data.message '(ID:' $_.data.chatId ')' } } catch { Write-Host 'âŒ éŒ¯èª¤:' $_.Exception.Message }\"\n\necho.\necho ğŸ“Š æ•¸æ“šåº«ä¸­çš„èŠå¤©æ¶ˆæ¯:\nmysql -u root -e \"USE python_collaboration; SELECT id, user_id, user_name, message, created_at FROM chat_messages WHERE room_id = 12 ORDER BY created_at DESC;\"\n\necho.\necho âœ… æ¸¬è©¦å®Œæˆï¼\npause 