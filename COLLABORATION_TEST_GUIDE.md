# 🐍 Python多人協作平台測試指南

## 🚀 快速開始

### 1. 環境準備
```bash
# 1. 確保XAMPP已安裝並啟動MySQL
# 2. 安裝Composer依賴
cd websocket_server
composer install

# 3. 啟動WebSocket服務器
php websocket_server.php
```

### 2. 一鍵啟動（推薦）
```bash
# Windows用戶
start_collaboration_server.bat

# 或手動啟動
cd websocket_server
php websocket_server.php
```

### 3. 開啟測試頁面
在瀏覽器中打開 `collaboration_test.html`

## 🧪 多人協作測試

### 測試場景1：基礎同步測試

**目標：** 測試多人同時編輯時的同步延遲

**步驟：**
1. 打開兩個瀏覽器標籤頁（或不同瀏覽器）
2. 兩個頁面都連接到同一房間（例如：`test-room`）
3. 在頁面A編輯代碼，觀察頁面B的同步時間
4. 點擊「測量延遲」按鈕查看具體數值

**預期結果：**
- 同步延遲：< 3秒（本地測試）
- 版本號自動遞增
- 兩邊代碼保持一致

### 測試場景2：衝突檢測測試

**目標：** 驗證版本衝突檢測機制

**步驟：**
1. 兩個頁面連接同一房間
2. 在頁面A點擊「模擬衝突」按鈕
3. 觀察衝突警告的顯示
4. 測試不同的衝突解決方案

**預期結果：**
- 顯示衝突警告訊息
- 提供3種解決方案：接受/覆蓋/合併
- 解決後版本號統一

### 測試場景3：AI助教功能測試

**目標：** 測試OpenAI API整合

**步驟：**
1. 在編輯器中輸入Python代碼
2. 點擊「解釋程式碼」按鈕
3. 觀察AI回應時間和準確性
4. 測試其他AI功能：「尋找錯誤」、「改進建議」

**預期結果：**
- AI回應時間：< 10秒
- 回應內容使用繁體中文
- 其他用戶可以看到AI回應

### 測試場景4：聊天功能測試

**目標：** 驗證即時聊天功能

**步驟：**
1. 多個頁面連接同一房間
2. 在聊天框輸入訊息
3. 觀察消息同步速度

**預期結果：**
- 消息即時同步
- 顯示發送者姓名
- 消息歷史保留

### 測試場景5：壓力測試

**目標：** 測試系統穩定性

**步驟：**
1. 連接3個以上瀏覽器標籤
2. 點擊「壓力測試」按鈕
3. 觀察系統響應和錯誤率

**預期結果：**
- 系統不當機
- 所有連接保持穩定
- 代碼最終一致

## 📊 性能指標

### 同步延遲測試
| 場景 | 目標延遲 | 實測結果 | 狀態 |
|------|----------|----------|------|
| 本地連接 | < 1秒 | _待測試_ | ⏳ |
| 2人協作 | < 3秒 | _待測試_ | ⏳ |
| 3人協作 | < 5秒 | _待測試_ | ⏳ |

### 衝突解決測試
| 測試項目 | 預期行為 | 實測結果 | 狀態 |
|----------|----------|----------|------|
| 版本檢查 | 檢測到衝突 | _待測試_ | ⏳ |
| 警告顯示 | 彈出衝突面板 | _待測試_ | ⏳ |
| 接受解決 | 使用最新版本 | _待測試_ | ⏳ |
| 覆蓋解決 | 使用自己版本 | _待測試_ | ⏳ |
| 合併解決 | 創建合併版本 | _待測試_ | ⏳ |

### AI助教測試
| 功能 | 目標響應時間 | 實測結果 | 狀態 |
|------|--------------|----------|------|
| 解釋程式碼 | < 10秒 | _待測試_ | ⏳ |
| 尋找錯誤 | < 10秒 | _待測試_ | ⏳ |
| 改進建議 | < 15秒 | _待測試_ | ⏳ |
| 協作指導 | < 8秒 | _待測試_ | ⏳ |

## 🐛 常見問題排除

### 問題1：WebSocket連接失敗
**症狀：** 頁面顯示「連接失敗」
**解決：**
```bash
# 檢查WebSocket服務器是否啟動
php websocket_server/websocket_server.php

# 檢查端口8080是否被占用
netstat -an | findstr 8080
```

### 問題2：資料庫連接錯誤
**症狀：** 服務器啟動時顯示資料庫錯誤
**解決：**
```bash
# 啟動XAMPP MySQL服務
# 或檢查資料庫配置
mysql -u root -p
CREATE DATABASE python_collaborate;
```

### 問題3：AI功能無回應
**症狀：** 點擊AI按鈕後無任何反應
**解決：**
1. 檢查OpenAI API密鑰是否正確
2. 檢查網路連接
3. 查看瀏覽器控制台錯誤信息

### 問題4：Composer依賴安裝失敗
**症狀：** `composer install` 失敗
**解決：**
```bash
# 更新Composer
composer self-update

# 清除快取
composer clear-cache

# 重新安裝
composer install --no-cache
```

## 📝 測試記錄模板

### 日期：_________ 測試人員：_________

#### 環境資訊
- PHP版本：_________
- 瀏覽器：_________
- 作業系統：_________

#### 同步延遲測試
- 2人協作延遲：_____ 秒
- 3人協作延遲：_____ 秒
- 最大延遲：_____ 秒
- 是否穩定：□ 是 □ 否

#### 衝突解決測試
- 衝突檢測：□ 正常 □ 異常
- 警告顯示：□ 正常 □ 異常
- 解決方案：□ 全部有效 □ 部分有效 □ 無效

#### AI助教測試
- 連接狀態：□ 正常 □ 異常
- 回應速度：□ 快(<5s) □ 中(5-10s) □ 慢(>10s)
- 回應準確性：□ 高 □ 中 □ 低

#### 整體評價
- 系統穩定性：□ 優秀 □ 良好 □ 一般 □ 差
- 用戶體驗：□ 優秀 □ 良好 □ 一般 □ 差
- 是否適合教學使用：□ 是 □ 否

#### 問題記錄
1. ________________________________
2. ________________________________
3. ________________________________

#### 改進建議
1. ________________________________
2. ________________________________
3. ________________________________

---

## 🎯 下一步開發計劃

基於測試結果，可以考慮以下改進：

1. **同步優化**：如果延遲太高，考慮實現增量同步
2. **衝突算法升級**：如果基礎版本檢查不夠，實施更智能的合併算法
3. **AI功能擴展**：根據使用情況添加更多AI輔助功能
4. **UI/UX改進**：根據用戶回饋優化界面設計
5. **性能監控**：添加實時性能監控和警告機制

**記住：這是一個實用的基礎版本，重點是驗證核心協作功能是否可行！** 🚀 